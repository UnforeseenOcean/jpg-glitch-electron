(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-853b758e"],{a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),c=n("1c7e"),o=!c((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:i})},a9c1:function(e,t,n){"use strict";n.r(t),n.d(t,"openFileDialog",(function(){return f})),n.d(t,"loadFileFromHardDrive",(function(){return u})),n.d(t,"saveFile",(function(){return s})),n.d(t,"saveFileAs",(function(){return h})),n.d(t,"exportFileAs",(function(){return d}));n("d81d"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("bdb9"),i=n("619f"),c=n("978e"),o=n("6971"),a=n("cc1d"),l=n("c3b1");function f(e){return r["remote"].dialog.showOpenDialog(e).then((function(e){if(e.filePaths)return Promise.all(e.filePaths.map(u));throw new Error("Could not open files.")}))}function u(e){Object(i["a"])(e);if(Object(i["d"])(e)){var t=Object(a["lookup"])(e);return Object(c["b"])(e).then((function(n){return Object(l["d"])(n,e,t)}))}return Object(i["c"])(e)?Object(o["d"])(e).then((function(e){var t=e.filePath,n=e.fileContent;return Object(l["a"])(n,t,!0)})):Promise.reject(new Error("Could not handle file type of file:"+e))}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=e.filePath),t?Object(l["b"])(e).then((function(e){return Object(o["f"])(t,e)})):Promise.reject(new Error("No file path was given"))}function h(e){var t={properties:["openFile","multiSelections"],filters:[{name:"Images",extensions:["glitch"]}],defaultPath:e.filePath};return r["remote"].dialog.showSaveDialog(t).then((function(t){if(t.filePath)return s(e,t.filePath);if(t.canceled)return null;throw new Error("Could not save file")}))}function d(e){if(e.glitchBlobURL){var t={properties:["openFile","multiSelections"],filters:[{name:"Images",extensions:["png"]}]};return r["remote"].dialog.showSaveDialog(t).then((function(t){if(t.filePath)return Object(o["a"])(e.glitchBlobURL).then((function(e){return Object(o["e"])(t.filePath,e,"binary")}));if(t.canceled)return null;throw new Error("Could not save file")}))}return Promise.reject(new Error("Could not export glitch file: No glitchBlobURL found."))}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,c=Function.prototype,o=c.toString,a=/^\s*function ([^ (]*)/,l="name";!r||l in c||i(c,l,{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(e){return""}}})},c3b1:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return h}));n("a630"),n("ace4"),n("0d03"),n("b0c0"),n("d3b7"),n("3ca3"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a9"),n("72f7");var r=n("d4ec"),i=n("619f"),c=n("6722"),o=n("978e"),a=n("6971"),l=(n("b562"),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r["a"])(this,e),this.id=t.id||Date.now()+"_"+~~(1e4*Math.random()),this.fileName=t.fileName||"Untitled",this.filePath=t.filePath||"".concat(this.fileName,".glitch"),this.srcFilePath=t.srcFilePath||"".concat(this.fileName,".jpg"),this.srcFileType=t.srcFileType,this.srcBlobURL=t.srcBlobURL,this.history=t.history||[],this.glitchBlobURL=null,this.isOnHardDrive=!!t.isOnHardDrive});function f(e){var t=new FileReader,n=Object(i["d"])(e.name);return new Promise((function(r,c){t.onload=function(t){if(n){var a=t.target.result,f=Object(o["a"])(a,e.type),u=new l({fileName:Object(i["b"])(e.name),srcFilePath:e.name,srcBlobURL:f,srcFileType:e.type});r(u)}else{var h=t.target.result;if(Object(i["c"])(e.name)){var d=s(h);r(d)}else c(new Error("Can't handle file: ".concat(e.name,": Was expecting it to be in JSON format.")))}},n?t.readAsArrayBuffer(e):t.readAsText(e)}))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t?Object(i["b"])(t):null;return new l({fileName:r,srcFilePath:t,srcBlobURL:e,srcFileType:n})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r=JSON.parse(e),a=Object(c["a"])(r.srcBuffer),f=Object(o["a"])(a,r.srcFileType);r.srcBlobURL=f,r.isOnHardDrive=n,t&&(r.filePath=t,r.fileName=Object(i["b"])(t));var u=new l(r);return u}catch(s){Promise.reject(s)}}function h(e){return Object(a["b"])(e.srcBlobURL).then((function(e){return new Response(e).arrayBuffer()})).then((function(t){var n={fileName:e.fileName,srcBuffer:Array.from(new Uint8Array(t)),history:e.history};return JSON.stringify(n)}))}}}]);
//# sourceMappingURL=chunk-853b758e.964020e7.js.map