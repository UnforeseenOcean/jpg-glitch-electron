(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f3394ca"],{a630:function(e,t,n){var r=n("23e7"),c=n("4df4"),i=n("1c7e"),a=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:c})},af14:function(e,t,n){"use strict";n.r(t),n.d(t,"initFileInputField",(function(){return o})),n.d(t,"exportFileAs",(function(){return l})),n.d(t,"saveFileAs",(function(){return f}));n("a630"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("978e");var r=n("619f"),c=n("c3b1"),i=n("4360"),a=null;function o(){a||(a=document.querySelector("#file-input"),a.onchange=function(e){var t=e.target.files,n=Array.from(t).map((function(e){return Object(c["c"])(e)}));Promise.all(n).then((function(e){i["a"].dispatch("openFiles",e)}))})}function l(e){if(!e.glitchBlobURL)throw new Error("File doesn't have a glitchBlobURL");var t=document.createElement("a");t.style="display: none",document.body.appendChild(t),t.download=Object(r["b"])(e.fileName)+".png",t.href=e.glitchBlobURL,t.click(),document.body.removeChild(t)}function f(e){return Object(c["b"])(e).then((function(t){var n=new Blob([t],{type:"octet/stream"}),c=URL.createObjectURL(n),i=document.createElement("a");i.style="display: none",document.body.appendChild(i),i.download=Object(r["b"])(e.fileName)+".glitch",i.href=c,i.click(),document.body.removeChild(i),URL.revokeObjectURL(c)}))}},b0c0:function(e,t,n){var r=n("83ab"),c=n("9bf2").f,i=Function.prototype,a=i.toString,o=/^\s*function ([^ (]*)/,l="name";r&&!(l in i)&&c(i,l,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(e){return""}}})},c3b1:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));n("a630"),n("ace4"),n("b0c0"),n("d3b7"),n("3ca3"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var r=n("d4ec"),c=n("619f"),i=n("6722"),a=n("978e"),o=n("6971"),l=(n("b562"),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r["a"])(this,e),this.id=t.id||Date.now()+"_"+~~(1e4*Math.random()),this.fileName=t.fileName||"Untitled",this.filePath=t.filePath||"".concat(this.fileName,".glitch"),this.srcFilePath=t.srcFilePath||"".concat(this.fileName,".jpg"),this.srcFileType=t.srcFileType,this.srcBlobURL=t.srcBlobURL,this.history=t.history||[],this.glitchBlobURL=null,this.isOnHardDrive=!!t.isOnHardDrive});function f(e){var t=new FileReader,n=Object(c["d"])(e.name);return new Promise((function(r,i){t.onload=function(t){if(n){var o=t.target.result,f=Object(a["a"])(o,e.type),u=new l({fileName:Object(c["b"])(e.name),srcFilePath:e.name,srcBlobURL:f,srcFileType:e.type});r(u)}else{var d=t.target.result;if(Object(c["c"])(e.name)){var b=s(d);r(b)}else i(new Error("Can't handle file: ".concat(e.name,": Was expecting it to be in JSON format.")))}},n?t.readAsArrayBuffer(e):t.readAsText(e)}))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t?Object(c["b"])(t):null;return new l({fileName:r,srcFilePath:t,srcBlobURL:e,srcFileType:n})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r=JSON.parse(e),o=Object(i["a"])(r.srcBuffer),f=Object(a["a"])(o,r.srcFileType);r.srcBlobURL=f,r.isOnHardDrive=n,t&&(r.filePath=t,r.fileName=Object(c["b"])(t));var u=new l(r);return u}catch(s){Promise.reject(s)}}function d(e){return Object(o["b"])(e.srcBlobURL).then((function(e){return new Response(e).arrayBuffer()})).then((function(t){var n={fileName:e.fileName,srcBuffer:Array.from(new Uint8Array(t)),history:e.history};return JSON.stringify(n)}))}}}]);
//# sourceMappingURL=chunk-2f3394ca.1c0c3e3a.js.map