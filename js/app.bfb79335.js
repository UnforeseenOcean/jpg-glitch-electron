(function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],u=0,f=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);h&&h(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},a=[];function s(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d212edf":"87944c56","chunk-2f3394ca":"b8832f58","chunk-853b758e":"964020e7"}[t]+".js"}function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=s(t);var l=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",l.name="ChunkLoadError",l.type=i,l.request=a,n[1](l)}r[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var h=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("85ec"),r=n.n(i);r.a},"0cd0":function(t,e,n){},"0e2f":function(t,e,n){},1727:function(t,e,n){},"199c":function(t,e,n){"use strict";(function(t){n("4de4"),n("d3b7");var i=n("936d");e["a"]={name:"jpg-glitch-electron",components:{AboutPage:i["a"]},data:function(){return{menu:null}},computed:{appCSSClasses:function(){return{"is-mac":"darwin"===t.platform}},fileMenuItem:function(){return this.hasMenu?this.menu.items.filter((function(t){return"file"===t.id}))[0]:null},saveMenuItem:function(){return this.fileMenuItem?this.fileMenuItem.submenu.items.filter((function(t){return"save"===t.id}))[0]:null},saveAsMenuItem:function(){return this.fileMenuItem?this.fileMenuItem.submenu.items.filter((function(t){return"saveas"===t.id}))[0]:null},exportMenuItem:function(){return this.fileMenuItem?this.fileMenuItem.submenu.items.filter((function(t){return"export"===t.id}))[0]:null},hasOpenFiles:function(){return this.$store.getters.files.length},activeFile:function(){return this.$store.getters.activeFile},isSaveMenuItemEnabled:function(){return!!this.activeFile&&!!this.activeFile.filePath},isSaveAsMenuItemEnabled:function(){return!!this.activeFile},isExportMenuItemEnabled:function(){return!!this.activeFile&&!!this.activeFile.glitchBlobURL},hasMenu:function(){return!!this.menu}},created:function(){var t=this;Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON&&n.e("chunk-2d212edf").then(n.bind(null,"ab08")).then((function(e){t.menu=e.menu,e.initMenu()}))},mounted:function(){var t=this;window.addEventListener("beforeunload",(function(e){t.$store.dispatch("quit")}))},watch:{isSaveMenuItemEnabled:function(t){this.hasMenu&&(this.saveMenuItem.enabled=t)},isSaveAsMenuItemEnabled:function(t){this.hasMenu&&(this.saveAsMenuItem.enabled=t)},isExportMenuItemEnabled:function(t){this.hasMenu&&(this.exportMenuItem.enabled=t)},hasMenu:function(t){this.hasMenu&&(this.saveMenuItem.enabled=!1,this.saveAsMenuItem.enabled=!1,this.exportMenuItem.enabled=!1)}}}}).call(this,n("4362"))},"21cb":function(t,e,n){"use strict";var i=n("3114"),r=n.n(i);r.a},3114:function(t,e,n){},"32ff":function(t,e,n){"use strict";var i=n("4f28"),r=n.n(i);r.a},4360:function(t,e,n){"use strict";var i=n("2b0e"),r=n("2f62"),a={show:!1},s={isShowingAbout:function(t){return t.show}},o={SHOW:function(t){t.show=!0},HIDE:function(t){t.show=!1}},c={showAbout:function(t){var e=t.commit;e("SHOW")},hideAbout:function(t){var e=t.commit;e("HIDE")},toggleAbout:function(t){var e=t.state,n=t.dispatch;n(e.show?"hideAbout":"showAbout")}},l={state:a,getters:s,mutations:o,actions:c},u=(n("4de4"),n("4160"),n("d81d"),n("a434"),n("0d03"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0"),n("2b3d"),n("978e")),h=n("619f");n("6971");var f,d,p,m;n("6722");function v(t){URL.revokeObjectURL(t)}var g={files:[],activeFileId:null,defaultParams:{seed:25,quality:30,amount:35,iterations:20}},b={files:function(t){return t.files},filteredFiles:function(t,e){return function(t,n){return e.files.filter((function(e){return e[t]===n}))}},fileById:function(t,e){return function(t){return e.filteredFiles("id",t)[0]}},hasOpenFiles:function(t){return t.files.length},activeFileId:function(t){return t.activeFileId},activeFile:function(t,e){return e.fileById(e.activeFileId)},isFileActive:function(t){return function(e){return t.activeFileId===e}},hasFileUnsavedChanges:function(t,e){return function(t){var n=e.fileById(t);return!!n&&(!!n.history.length&&"save"!==n.history[n.history.length-1].type)}},latestEvent:function(t,e){return function(n,i){var r=e.fileById(n);if(r){var a=r.history.filter((function(t){return t.key===i}));return a.length?a[a.length-1].value:t.defaultParams[i]}return null}},params:function(t,e){return function(t){return{seed:e.latestEvent(t,"seed"),quality:e.latestEvent(t,"quality"),amount:e.latestEvent(t,"amount"),iterations:e.latestEvent(t,"iterations")}}}};Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON||n.e("chunk-2f3394ca").then(n.bind(null,"af14")).then((function(t){t.initFileInputField()}));var E={ADD_FILE:function(t,e){t.files.push(e)},REMOVE_FILE:function(t,e){var n=t.files.map((function(t,e){return{id:t.id,index:e}})).filter((function(t){return t.id===e.id}))[0];n&&t.files.splice(n.index,1)},SET_ACTIVE_FILE_ID:function(t,e){t.activeFileId=e},ADD_EVENT:function(t,e){e.file.history.push(e.event)},SET_FILE_ATTR:function(t,e){e&&e.file&&e.key&&(e.file[e.key]=e.value)}},I={requestToImportImage:function(t){var e=t.dispatch,i=Promise.resolve([]),r={properties:["openFile","multiSelections"],filters:[{name:"Images",extensions:["jpg","jpeg","png","glitch"]}]};Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON&&(i=f?Promise.resolve():n.e("chunk-853b758e").then(n.bind(null,"a9c1")).then((function(t){return f=t.openFileDialog})),i=i.then((function(){return f(r)})).tnen((function(t){return e("openFiles",t)})))},requestToExportImage:function(t,e){var i=t.dispatch,r=t.getters,a=r.fileById(e);if(a&&a.glitchBlobURL){var s=Promise.resolve();Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON?(s=d?Promise.resolve():n.e("chunk-853b758e").then(n.bind(null,"a9c1")).then((function(t){return d=t.exportFileAs})),s=s.then((function(){return d(a)})).then((function(t){i("updateHistory",{fileId:e,event:{type:"export",fileName:Object(h["b"])(t.filePath,!0)}})}))):(s=d?Promise.resolve():n.e("chunk-2f3394ca").then(n.bind(null,"af14")).then((function(t){return d=t.exportFileAs})),s=s.then((function(){return d(a)})).then((function(){i("updateHistory",{fileId:e,event:{type:"export",fileName:Object(h["b"])(a.fileName)+".glitch"}})})))}},requestToOpenFiles:function(t){t.getters;var e=t.dispatch,i=Promise.resolve([]),r={properties:["openFile","multiSelections"],filters:[{name:"Images",extensions:["jpg","jpeg","png","glitch"]}]};Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON?(i=f?Promise.resolve():n.e("chunk-853b758e").then(n.bind(null,"a9c1")).then((function(t){return f=t.openFileDialog})),i=i.then((function(){return f(r)}))):(i=f?Promise.resolve():n.e("chunk-2f3394ca").then(n.bind(null,"af14")).then((function(t){return f=t.openFileDialog})),i=i.then((function(){return f(r)}))),i.then((function(t){return e("openFiles",t)}))},openFiles:function(t,e){t.getters;var n=t.dispatch,i=t.commit;e.forEach((function(t){i("ADD_FILE",t)})),n("updateActiveFile")},saveFile:function(t,e){var i=t.getters,r=t.dispatch,a=(t.commit,i.fileById(e));if(Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON)if(a){if(a.isOnHardDrive&&a.filePath){var s=Promise.resolve();return s=m?Promise.resolve():n.e("chunk-853b758e").then(n.bind(null,"a9c1")).then((function(t){return m=t.saveFile})),s=s.then((function(){return m(a)})).then((function(t){r("updateHistory",{fileId:e,event:{type:"save",fileName:Object(h["b"])(t.filePath,!0)}})})),s}r("requestToSaveFileAs",e)}else console.log("NO GLITCH FILE FOUND");else a&&r("requestToSaveFileAs",e)},requestToSaveFileAs:function(t,e){var i=t.dispatch,r=t.commit,a=t.getters,s=a.fileById(e);if(s){var o=Promise.resolve();Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON?(o=p?Promise.resolve():n.e("chunk-853b758e").then(n.bind(null,"a9c1")).then((function(t){return p=t.saveFileAs})),o=o.then((function(){return p(s)})).then((function(t){s.fileName!==Object(h["b"])(t.filePath)&&r("SET_FILE_ATTR",{file:s,key:"fileName",value:Object(h["b"])(t.filePath)}),r("SET_FILE_ATTR",{file:s,key:"filePath",value:t.filePath}),r("SET_FILE_ATTR",{file:s,key:"isOnHardDrive",value:!0}),i("updateHistory",{fileId:e,event:{type:"save",fileName:Object(h["b"])(t.filePath,!0)}})}))):(o=p?Promise.resolve():n.e("chunk-2f3394ca").then(n.bind(null,"af14")).then((function(t){return p=t.saveFileAs})),o=o.then((function(){return p(s)})))}},closeFile:function(t,e){var n=t.dispatch,i=t.commit,r=t.getters,a=r.fileById(e);a&&(a.glitchBlobURL&&(Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON?v(a.glitchBlobURL):URL.revokeObjectURL(a.glitchBlobURL)),a.srcBlobURL&&(Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON?v(a.srcBlobURL):URL.revokeObjectURL(a.srcBlobURL)),i("REMOVE_FILE",a),n("updateActiveFile"))},updateActiveFile:function(t){var e=t.getters,n=t.dispatch;e.activeFileId&&!e.files.length&&n("activateFile",null),!e.activeFileId&&e.files.length&&n("activateFile",e.files[0].id),e.activeFileId&&e.files.length&&!e.fileById(e.activeFileId)&&n("activateFile",e.files[0].id)},activateFile:function(t){var e=t.getters,n=t.commit,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(e.fileById(i)||null===i)&&n("SET_ACTIVE_FILE_ID",i)},updateControl:function(t,e){t.getters;var n=t.dispatch;if(e){var i={type:e.type||"param",key:e.key,value:e.value};n("updateHistory",{fileId:e.fileId,event:i})}},updateHistory:function(t,e){var n=t.getters,i=t.commit,r=e.event,a=n.fileById(e.fileId);a&&r&&r.type&&(r.date||(r.date=Date.now()),i("ADD_EVENT",{file:a,event:r}))},updateGlitch:function(t,e){var n=t.getters,i=t.commit,r=n.fileById(e.fileId);if(r&&e.dataURL){var a=Object(u["c"])(e.dataURL);i("SET_FILE_ATTR",{file:r,key:"glitchBlobURL",value:a})}},quit:function(t){var e=t.getters;t.commit;e.files.forEach((function(t){t.srcBlobURL&&v(t.srcBlobURL),t.glitchBlobURL&&v(t.glitchBlobURL)}))}},_={getters:b,state:g,mutations:E,actions:I};i["a"].use(r["a"]);e["a"]=new r["a"].Store({modules:{Files:_,About:l},strict:!0})},"4df6":function(t,e,n){},"4f28":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.appCSSClasses,attrs:{id:"app"}},[n("router-view"),n("about-page")],1)},a=[],s=n("199c"),o=s["a"],c=(n("034f"),n("2877")),l=Object(c["a"])(o,r,a,!1,null,null,null),u=l.exports,h=n("8c4f");i["a"].use(h["a"]);var f=new h["a"]({routes:[{path:"/",name:"edit-page",component:n("8524").default},{path:"*",redirect:"/"}]}),d=n("4360"),p=n("9483");Object(p["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("df95");i["a"].config.productionTip=!1,new i["a"]({router:f,store:d["a"],render:function(t){return t(u)}}).$mount("#app")},"619f":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return c}));n("c975"),n("fb6a"),n("ac1f"),n("5319"),n("1276");function i(t,e){var n=t,i=n.charAt(n.length-1);return"/"!==i&&"\\"!==i||(n=n.slice(0,-1)),n=n.replace(/^.*[/\\]/g,""),"string"===typeof e&&n.substr(n.length-e.length)===e&&(n=n.substr(0,n.length-e.length)),n}function r(t){return t.split(".").pop()}function a(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?i(t):i(t,"."+r(t))}function s(t){var e=r(t);return 0===e.indexOf(".")&&(e=e.substr(1)),e.toLowerCase()}function o(t){return-1!==["jpg","jpeg","png","gif","svg"].indexOf(s(t))}function c(t){return-1!==["glitch"].indexOf(s(t))}},6722:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("c19f"),n("ace4"),n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a9"),n("72f7");function i(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),i=0,r=t.length;i<r;++i)n[i]=t[i];return e}},6971:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return h}));n("d3b7");var i=n("4947"),r=n.n(i),a=n("3e8f");function s(t,e){return new Promise((function(n,i){Object(a["readFile"])(t,e,(function(e,r){e?i(e):n({filePath:t,fileContent:r})}))}))}function o(t,e,n){return new Promise((function(i,r){Object(a["writeFile"])(t,e,n,(function(n){n?r(n):i({filePath:t,fileContent:e})}))}))}function c(t){return s(t,"utf-8")}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";return o(t,e,n)}function u(t){return fetch(t).then((function(t){return t.blob()}))}function h(t){return u(t).then((function(t){return new Promise((function(e,n){r()(t,(function(t,i){t?n(t):e(i)}))}))}))}},"6a69":function(t,e,n){"use strict";var i=n("0e2f"),r=n.n(i);r.a},8524:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page edit-page"},[n("tab-bar"),t.activeFileId?n("controls",{attrs:{fileId:t.activeFileId}}):t._e(),t.activeFileId?n("workspace",{attrs:{fileId:t.activeFileId}},[n("glitch-image",{attrs:{fileId:t.activeFileId}}),t.activeFileId?n("export-btn",{attrs:{slot:"workspace-controls",fileId:t.activeFileId},slot:"workspace-controls"},[t._v("export")]):t._e(),t.activeFileId?n("save-btn",{attrs:{slot:"workspace-controls",fileId:t.activeFileId},slot:"workspace-controls"},[t._v("save")]):t._e(),t.isElectron?t._e():n("button",{staticClass:"btn about-btn",class:t.infoBtnCSSClasses,attrs:{slot:"workspace-info"},on:{click:t.infoClicked},slot:"workspace-info"},[t._v("about")])],1):t._e(),t.activeFileId?t._e():n("div",{staticClass:"welcome-text-container"},[n("div",{staticClass:"welcome-text"},[n("h1",{staticClass:"headline"},[t._v("Welcome")]),n("p",[t._v("Select a files from your hard drive and start glitching.")]),t.isElectron?n("button",{staticClass:"btn",on:{click:t.openClicked}},[t._v("Open Files")]):t._e(),t.isElectron?t._e():n("label",{staticClass:"btn",attrs:{for:"file-input"}},[t._v("Open Files")]),t.isElectron?t._e():n("p",[t._v("This app is also available to download. You can find out more on the "),n("a",{attrs:{href:t.homepage,target:"_blank",rel:"noopener"}},[t._v("project website")])])])])],1)},r=[],a=n("9224"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.files.length?n("nav",{staticClass:"tab-bar inverse-color"},[n("ul",{staticClass:"tabs"},t._l(t.files,(function(e){return n("li",{staticClass:"tab",class:t.tabCSSClasses(e.id)},[t.hasUnsavedChanges(e.id)?n("span",{staticClass:"unsaved-changes-indicator",attrs:{title:e.name+" has unsaved changes"}},[t._v("*")]):t._e(),t.isFileActive(e.id)?t._e():n("button",{staticClass:"tab-name tab-name-btn",on:{click:function(n){return t.activateFile(e.id)}}},[t._v(t._s(e.name))]),t.isFileActive(e.id)?n("span",{staticClass:"tab-name"},[t._v(t._s(e.name))]):t._e(),n("button",{staticClass:"tab-close-btn",on:{click:function(n){return t.closeFile(e.id)}}},[t._v("×")])])})),0),n("import-btn",{staticClass:"tab-open-btn"},[t._v("+")])],1):t._e()},o=[],c=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn file-import-btn",on:{click:t.importClicked}},[t._t("default")],2)}),l=[],u={methods:{importClicked:function(){this.$store.dispatch("requestToOpenFiles")}}},h=u,f=n("2877"),d=Object(f["a"])(h,c,l,!1,null,null,null),p=d.exports,m={components:{ImportBtn:p},computed:{files:function(){return this.$store.getters.files.map((function(t){return{id:t.id,name:t.fileName||"Untitled"}}))}},methods:{isFileActive:function(t){return this.$store.getters.isFileActive(t)},hasUnsavedChanges:function(t){return this.$store.getters.hasFileUnsavedChanges(t)},activateFile:function(t){this.$store.dispatch("activateFile",t)},closeFile:function(t){this.$store.dispatch("closeFile",t)},tabCSSClasses:function(t){return{"is-active":this.isFileActive(t)}}}},v=m,g=(n("dcf9"),Object(f["a"])(v,s,o,!1,null,null,null)),b=g.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.dataURL?n("img",{staticClass:"glitch-image",attrs:{src:t.dataURL},on:{load:t.imageLoaded}}):t._e()},I=[],_=n("92ac"),y=n("2b0e"),F=new y["a"],C={name:"GlitchImage",props:["fileId"],data:function(){return{dataURL:null}},computed:{file:function(){return this.fileId?this.$store.getters.fileById(this.fileId):null},params:function(){return this.file?this.$store.getters.params(this.fileId):null}},methods:{updateImage:function(){var t=this;if(this.file){var e=new Image;e.onload=function(){Object(_["a"])(t.params).fromImage(e).toDataURL().then((function(e){t.dataURL=e,t.$store.dispatch("updateGlitch",{fileId:t.fileId,dataURL:e})}))},e.src=this.file.srcBlobURL}},imageLoaded:function(){F.$emit("glitch")}},mounted:function(){this.updateImage()},watch:{fileId:function(){this.updateImage()},params:function(){this.updateImage()}}},k=C,w=(n("6a69"),Object(f["a"])(k,E,I,!1,null,null,null)),O=w.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.params?n("div",{staticClass:"controls inverse-color"},t._l(t.params,(function(e,i){return n("div",{staticClass:"control-item"},[n("div",{staticClass:"text-display"},[n("label",{staticClass:"text-label",attrs:{for:"control-"+i}},[t._v(t._s(i))]),n("input",{staticClass:"number-display",attrs:{type:"number",id:"control-"+i,"data-control-id":i,min:"1",max:"100"},domProps:{value:e},on:{input:t.controlChanged}})]),n("input",{staticClass:"slider",attrs:{type:"range","data-control-id":i,min:"1",max:"100"},domProps:{value:e},on:{input:t.controlChanged}})])})),0):t._e()},S=[],A=(n("e25e"),{props:["fileId"],computed:{file:function(){return this.fileId?this.$store.getters.fileById(this.fileId):null},params:function(){return this.file?this.$store.getters.params(this.fileId):null}},methods:{controlChanged:function(t){var e=t.target.getAttribute("data-control-id"),n=parseInt(t.target.value,10);this.$store.dispatch("updateControl",{fileId:this.fileId,key:e,value:n})}}}),L=A,P=(n("32ff"),Object(f["a"])(L,x,S,!1,null,null,null)),R=P.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"workspace"},[n("div",{staticClass:"workspace-content"},[t._t("default")],2),n("div",{staticClass:"workspace-info"},[t._t("workspace-info")],2),n("div",{staticClass:"workspace-controls"},[t._t("workspace-controls")],2)])},j=[],T=(n("13d5"),n("d4ec")),M=n("bee2");n("0d03"),n("d3b7"),n("acd8"),n("ac1f"),n("25f0"),n("466d");function N(t){var e=getComputedStyle(t);return e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform")}function U(t){"none"===t&&(t="matrix(0,0,0,0,0)");var e={},n=t.match(/([-+]?[\d\.]+)/g);return e.rotate=(Math.round(Math.atan2(parseFloat(n[1]),parseFloat(n[0]))*(180/Math.PI))||0).toString()+"deg",e.translateStr=n[5]?n[4]+"px, "+n[5]+"px":n[4]?n[4]+"px":"",e.translateX=parseFloat(n[4]),e.translateY=n[5]?parseFloat(n[5]):0,e}function V(t,e){var n=e.parentNode;while(null!=n){if(n==t)return!0;n=n.parentNode}return!1}var D=n("89e8"),$=n.n(D),H=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(T["a"])(this,t),this.containerEl=e,this.targetEl=n,this.canZoomWithPonter=!0,this.shouldCaptureFn=r.shouldCaptureFn||function(t){return!0},this.limitToContainer="boolean"!==typeof r.limitToContainer||r.limitToContainer,this.limitPadding=r.limitPadding||50,this.matrix=N(this.targetEl),this.transform=U(this.matrix),this.x=this.transform.translateX||0,this.y=this.transform.translateY||0,this.scale=1,this.active=0,this.lastPoints=[],this.centerScale=1,this.containerBounds=this.containerEl.getBoundingClientRect(),this.targetBounds=this.targetEl.getBoundingClientRect(),this.forceCenter=!1,this.updateAnimationFrameId=NaN,this.scaleAnimationFrameId=NaN,this.centerAnimationFrameId=NaN,this.resizeTimeoutId=NaN,this.targetElSize={width:100,height:100},this.containerElSize={width:100,height:100},this.isAnimating=!1,this.pointerMovedHandler=function(t){return i.pointerMoved(t)},this.pointerReleasedHandler=function(t){return i.pointerReleased(t)},this.containerEl.addEventListener("mousedown",(function(t){return i.pointerPressed(t)})),this.containerEl.addEventListener("touchstart",(function(t){return i.pointerPressed(t)})),this.containerEl.addEventListener("wheel",(function(t){return i.wheelTurned(t)})),this.containerEl.addEventListener("dblclick",(function(t){return i.animateToCenter(t)})),window.addEventListener("resize",(function(t){return i.resized(t)})),this.targetEl.style.WebkitTransformOrigin=n.style.transformOrigin="0 0",$()(this.targetEl,(function(t){return i.updateDimensions(t)})),$()(this.containerEl,(function(t){return i.updateDimensions(t)})),this.updateDimensions()}return Object(M["a"])(t,[{key:"reset",value:function(){this.updateValues(this.transform.translateX||0,this.transform.translateY||0,1)}},{key:"updateDimensions",value:function(){this.containerElSize={width:this.containerEl.clientWidth,height:this.containerEl.clientHeight},this.targetElSize={width:this.targetEl.clientWidth,height:this.targetEl.clientHeight},this.containerBounds=this.containerEl.getBoundingClientRect(),this.targetBounds=this.targetEl.getBoundingClientRect(),this.forceCenter&&this.setToCenter(),this.updateValues(this.x,this.y,this.scale)}},{key:"updateValues",value:function(t,e,n){var i=this;if(cancelAnimationFrame(this.updateAnimationFrameId),this.limitToContainer&&this.targetEl!==this.containerEl&&this.containerBounds&&(t!==this.x||e!==this.y||n!==this.scale)){this.scale;var r=this.limitPadding,a={width:this.targetBounds.width,height:this.targetBounds.height},s={width:this.containerBounds.width,height:this.containerBounds.height};t>s.width-r&&(t=s.width-r),t<0-a.width+r&&(t=0-a.width+r),e>s.height-r&&(e=s.height-r),e<0-a.height+r&&(e=0-a.height+r)}n=Math.min(5,Math.max(.01,n)),this.scale===n&&5===n||(this.x=t,this.y=e,this.scale=n,this.updateAnimationFrameId=requestAnimationFrame((function(){return i.update()})))}},{key:"update",value:function(){this.targetEl.style.WebkitTransform=this.targetEl.style.transform="translate3d("+this.x+"px, "+this.y+"px, 0) scale("+this.scale+")"}},{key:"wheelTurned",value:function(t){if(this.shouldCaptureFn(t.target)&&this.canZoomWithPonter){this.forceCenter=!1,t.preventDefault();var e=t.deltaY;1===t.deltaMode&&(e*=15),e=Math.max(Math.min(e,60),-60);var n=e/300+1;this.scale*n<.05||this.updateValues(this.x-(t.pageX-this.targetBounds.left)*(n-1),this.y-(t.pageY-this.targetBounds.top)*(n-1),this.scale*n)}}},{key:"firstPointerPressed",value:function(t){this.lastPoints=Z(t),document.addEventListener("mousemove",this.pointerMovedHandler),document.addEventListener("mouseup",this.pointerReleasedHandler),document.addEventListener("touchmove",this.pointerMovedHandler),document.addEventListener("touchend",this.pointerReleasedHandler)}},{key:"pointerPressed",value:function(t){"mousedown"==t.type&&1!=t.which||this.shouldCaptureFn(t.target)&&V(this.containerEl,t.target)&&(this.forceCenter=!1,t.preventDefault(),this.lastPoints=Z(t),this.active++,1===this.active&&this.firstPointerPressed(t))}},{key:"pointerMoved",value:function(t){if(t&&t.target){t.preventDefault(),this.forceCenter=!1;var e=Z(t),n=e.reduce(W),i=this.lastPoints.reduce(W),r=this.x+n.x-i.x,a=this.y+n.y-i.y;if(e[1]){if(!this.canZoomWithPonter)return;var s=z(e[0],e[1])/z(this.lastPoints[0],this.lastPoints[1]);this.updateValues(r-(n.x-targetBounds.left)*(s-1),a-(n.y-targetBounds.top)*(s-1),this.scale*s)}else this.updateValues(r,a,this.scale);this.lastPoints=e}}},{key:"pointerReleased",value:function(t){t.preventDefault(),this.active--,this.lastPoints.pop(),this.active?this.lastPoints=Z(t):(document.removeEventListener("mousemove",this.pointerMovedHandler),document.removeEventListener("mouseup",this.pointerReleasedHandler),document.removeEventListener("touchmove",this.pointerMovedHandler),document.removeEventListener("touchend",this.pointerReleasedHandler))}},{key:"resized",value:function(){var t=this;cancelAnimationFrame(this.resizeTimeoutId),this.resizeTimeoutId=requestAnimationFrame((function(){return t.setToCenter()}))}},{key:"setToCenter",value:function(){this.forceCenter=!0,this.updateValues(this.centerValues.x,this.centerValues.y,this.centerValues.scale)}},{key:"animateToCenter",value:function(){var t=this,e=0,n=0,i=0,r=.1;function a(){var t=this;e=this.centerValues.x-this.x,n=this.centerValues.y-this.y,i=this.centerValues.scale-this.scale,Math.abs(e)>1||Math.abs(n)>1||Math.abs(i)>.01?(this.updateValues(this.x+e*r,this.y+n*r,this.scale+i*r),this.centerAnimationFrameId=requestAnimationFrame((function(){return a.bind(t)()}))):this.updateValues(this.centerValues.x,this.centerValues.y,this.centerValues.scale)}this.centerScale=this.centerValues.scale,cancelAnimationFrame(this.scaleAnimationFrameId),cancelAnimationFrame(this.centerAnimationFrameId),this.centerAnimationFrameId=requestAnimationFrame((function(){return a.bind(t)()}))}},{key:"setScale",value:function(t){var e=.2,n=(this.containerBounds.width-this.targetBounds.width*t)/2,i=(this.containerBounds.height-this.targetBounds.height*t)/2,r=0,a=0,s=0;function o(){r=n-this.x,a=i-this.y,s=t-this.scale,Math.abs(r)>1||Math.abs(a)>1||Math.abs(s)>.01?(updateValues(this.x+r*e,this.y+a*e,this.scale+s*e),this.scaleAnimationFrameId=requestAnimationFrame(o)):updateValues(n,i,t)}return cancelAnimationFrame(this.scaleAnimationFrameId),cancelAnimationFrame(this.centerAnimationFrameId),o(),self}},{key:"centerValues",get:function(){var t=1;return(this.targetElSize.width>this.containerElSize.width||this.targetElSize.height>this.containerElSize.height)&&(t=Math.min(this.containerElSize.width/this.targetElSize.width,(this.containerElSize.height-80)/this.targetElSize.height)),{x:(this.containerElSize.width-this.targetElSize.width*t)/2,y:(this.containerElSize.height-this.targetElSize.height*t)/2,scale:t}}}]),t}();function q(t){return{x:t.pageX,y:t.pageY}}function z(t,e){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.sqrt(n*n+i*i)}function W(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function Z(t){return t.touches?Array.prototype.map.call(t.touches,q):[q(t)]}var G={data:function(){return{panZoom:null,lastZoomId:null}},props:["fileId"],methods:{updateWorkspace:function(){this.fileId&&this.panZoom&&this.lastZoomId!==this.fileId&&this.panZoom.setToCenter()}},mounted:function(){F.$on("glitch",this.updateWorkspace.bind(this)),this.panZoom=new H(this.$el,this.$el.querySelector(".workspace-content"))},watch:{fileId:function(){this.updateWorkspace()},"$store.getters.activeFile.srcBlobURL":function(t){this.updateWorkspace()}}},Y=G,X=(n("c55f"),Object(f["a"])(Y,B,j,!1,null,null,null)),J=X.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn file-import-btn",on:{click:t.exportClicked}},[t._t("default")],2)},Q=[],tt={props:["fileId"],methods:{exportClicked:function(){this.$store.dispatch("requestToExportImage",this.fileId)}}},et=tt,nt=Object(f["a"])(et,K,Q,!1,null,null,null),it=nt.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn file-import-btn",on:{click:t.saveClicked}},[t._t("default")],2)},at=[],st={props:["fileId"],methods:{saveClicked:function(){this.$store.dispatch("saveFile",this.fileId)}}},ot=st,ct=Object(f["a"])(ot,rt,at,!1,null,null,null),lt=ct.exports,ut={name:"EditPage",components:{TabBar:b,GlitchImage:O,Controls:R,Workspace:J,ExportBtn:it,SaveBtn:lt},computed:{activeFileId:function(){return this.$store.getters.activeFileId},infoBtnCSSClasses:function(){return{"is-active":this.$store.getters.isShowingAbout}},isElectron:function(){return Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON},homepage:function(){return a["c"]}},methods:{openClicked:function(){this.$store.dispatch("requestToOpenFiles")},infoClicked:function(){this.$store.dispatch("toggleAbout")}}},ht=ut,ft=(n("b1e3"),Object(f["a"])(ht,i,r,!1,null,null,null));e["default"]=ft.exports},"85ec":function(t,e,n){},9224:function(t){t.exports=JSON.parse('{"d":"JPG Glitch","e":"0.1.2","a":{"name":"Georg Fischer","email":"hi@snorpey.com","url":"https://snorpey.com/"},"c":"https://github.com/snorpey/jpg-glitch-electron/","b":"https://github.com/snorpey/jpg-glitch-electron/issues/"}')},"936d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about-page-wrapper"},[n("transition",{attrs:{name:"about"}},[t.isShowing?n("div",{staticClass:"about-page-background"},[n("div",{staticClass:"about-page"},[n("div",{staticClass:"about-icon-container"},[n("img",{staticClass:"about-icon",attrs:{src:t.appIcon}})]),n("div",{staticClass:"about-text"},[n("h1",{staticClass:"about-app-name center-text"},[t._v(t._s(t.appName))]),n("p",{staticClass:"center-text"},[t._v("Version "+t._s(t.appVersion))]),t.isElectron?n("p",{staticClass:"about-small center-text"},[t._v("Copyright © 2019 "),n("a",{attrs:{href:t.author.url},on:{click:t.linkClicked}},[t._v(t._s(t.author.name))])]):t._e(),t.isElectron?t._e():n("p",{staticClass:"about-small center-text"},[t._v("Copyright © 2019 "),n("a",{attrs:{href:t.author.url,target:"_blank",rel:"noopener"}},[t._v(t._s(t.author.name))])]),t.isElectron?n("p",{staticClass:"about-small center-text about-margin"},[n("a",{attrs:{href:t.homepage},on:{click:t.linkClicked}},[t._v("Website")]),t._v(" "),n("a",{attrs:{href:t.bugs},on:{click:t.linkClicked}},[t._v("Report a bug")])]):t._e(),t.isElectron?t._e():n("p",{staticClass:"about-small center-text about-margin"},[n("a",{attrs:{href:t.homepage,target:"_blank",rel:"noopener"}},[t._v("Website")]),t._v(" "),n("a",{attrs:{href:t.bugs,target:"_blank",rel:"noopener"}},[t._v("Report a bug")])]),n("p",{staticClass:"about-small center-text about-margin"},[t._v("Thank you for using this software."),n("br"),t._v(" Have a great day!")])]),n("button",{staticClass:"about-page-close",on:{click:t.closeClicked}},[t._v("×")])])]):t._e()])],1)},r=[],a=n("9224"),s={computed:{isShowing:function(){return this.$store.getters.isShowingAbout},appIcon:function(){return"img/icons/android-chrome-512x512.png"},appName:function(){return a["d"]},appVersion:function(){return a["e"]},author:function(){return a["a"]},bugs:function(){return a["b"]},homepage:function(){return a["c"]},isElectron:function(){return!!Object({NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON}},methods:{closeClicked:function(){this.$store.dispatch("hideAbout")},linkClicked:function(t){t.preventDefault();var e=t.target.href;this.isElectron&&n("bdb9").shell.openExternal(e)}}},o=s,c=(n("21cb"),n("2877")),l=Object(c["a"])(o,i,r,!1,null,null,null);e["a"]=l.exports},"978e":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l}));n("d3b7");var i=n("6971"),r=n("6722"),a=n("cc1d"),s=n("b562");function o(t){return Object(i["c"])(t).then((function(e){var n=Object(a["lookup"])(t),i=Object(r["a"])(e.fileContent);return Object(s["b"])(Object(s["a"])(i,n))}))}function c(t,e){return Object(s["b"])(Object(s["a"])(t,e))}function l(t){return Object(s["b"])(Object(s["c"])(t))}},b1e3:function(t,e,n){"use strict";var i=n("4df6"),r=n.n(i);r.a},c55f:function(t,e,n){"use strict";var i=n("1727"),r=n.n(i);r.a},dcf9:function(t,e,n){"use strict";var i=n("0cd0"),r=n.n(i);r.a},df95:function(t,e,n){}});
//# sourceMappingURL=app.bfb79335.js.map